<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin Dashboard</title>
  <link rel="stylesheet" href="admin.css" />
</head>
<body>
  <header class="top app">
    <div class="brand">
      <h1>Admin Dashboard</h1>
      <p class="subtitle">Manage services, wallets (QR upload), orders and transactions.</p>
    </div>
    <div class="user-actions">
      <a id="login-link" href="/login.html">Login</a>
      <button id="logout-btn" class="logout" style="display:none">Logout</button>
      <span id="login-status" style="color:var(--muted); font-size:13px"></span>
    </div>
  </header>

  <main class="app layout">
    <aside class="sidebar">
      <button data-target="#services" class="active">Services</button>
      <button data-target="#wallets">Wallets</button>
      <button data-target="#orders">Orders</button>
      <button data-target="#transactions">Transactions</button>
      <button data-target="#import-export">Import/Export</button>
    </aside>

    <section class="content">
    <section id="services" class="panel">
      <h2>Services</h2>
      <form id="service-form" class="inline-form">
        <input type="hidden" id="service-id" />
        <input id="service-name" placeholder="Name" required />
        <input id="service-price" placeholder="Price" type="number" step="0.0001" required />
        <input id="service-desc" placeholder="Short description" />
        <button type="submit">Save Service</button>
        <button type="button" id="service-cancel">Cancel</button>
      </form>
      <div class="table-wrap">
        <table id="services-table">
          <thead><tr><th>Name</th><th>Price</th><th>Description</th><th>Actions</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <section id="wallets" class="panel">
      <h2>Wallet Addresses</h2>
      <form id="wallet-form" class="inline-form">
        <input type="hidden" id="wallet-id" />
        <input id="wallet-label" placeholder="Label (e.g. BTC Hotwallet)" required />
        <input id="wallet-address" placeholder="Address" required />
        <select id="wallet-currency" aria-label="Wallet currency">
          <option value="">(auto-detect)</option>
          <option>BTC</option>
          <option>ETH</option>
          <option>USDT</option>
          <option>TRX</option>
          <option>LTC</option>
          <option>Other</option>
        </select>
        <input id="wallet-qr" type="file" accept="image/*" />
        <label style="display:flex;align-items:center;gap:6px"><input id="wallet-public" type="checkbox" checked /> Public</label>
        <label style="display:flex;align-items:center;gap:6px"><input id="wallet-primary" type="checkbox" /> Primary</label>
        <button type="submit">Save Wallet</button>
        <button type="button" id="wallet-cancel">Cancel</button>
      </form>
      <div class="table-wrap" id="wallets-table-wrap">
        <table id="wallets-table">
          <thead><tr><th>Label</th><th>Currency</th><th>Address</th><th>Visible</th><th>Primary</th><th>QR</th><th>Actions</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <section id="orders" class="panel">
      <h2>Orders</h2>
      <form id="order-form" class="inline-form">
        <input type="hidden" id="order-id" />
        <select id="order-service" required></select>
        <input id="order-buyer" placeholder="Buyer" />
        <input id="order-amount" placeholder="Amount" type="number" step="0.0001" />
        <select id="order-status"><option>pending</option><option>completed</option><option>cancelled</option></select>
        <button type="submit">Save Order</button>
        <button type="button" id="order-cancel">Cancel</button>
      </form>
      <div class="table-wrap">
        <table id="orders-table">
          <thead><tr><th>Service</th><th>Buyer</th><th>Amount</th><th>Status</th><th>Date</th><th>Actions</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <section id="transactions" class="panel">
      <h2>Transactions</h2>
      <form id="tx-form" class="inline-form">
        <input type="hidden" id="tx-id" />
        <select id="tx-type"><option>in</option><option>out</option></select>
        <input id="tx-amount" placeholder="Amount" type="number" step="0.0001" required />
        <select id="tx-wallet"></select>
        <input id="tx-note" placeholder="Note" />
        <button type="submit">Save Tx</button>
        <button type="button" id="tx-cancel">Cancel</button>
      </form>
      <div class="table-wrap">
        <table id="tx-table">
          <thead><tr><th>Type</th><th>Amount</th><th>Wallet</th><th>Note</th><th>Date</th><th>Actions</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <section id="import-export" class="panel">
      <h2>Import / Export Data</h2>
      <div class="io">
        <button id="export-btn">Export JSON</button>
        <input type="file" id="import-file" accept="application/json" />
        <button id="server-export">Export Server Data</button>
        <input type="file" id="server-import-file" accept="application/json" />
        <button id="server-import">Import to Server</button>
        <p>Exported JSON includes services, wallets (with QR image data), orders and transactions.</p>
      </div>
    </section>
    </section>
  </main>

  <footer class="foot app">Open this file in your browser. Use Import/Export to persist data between machines.</footer>

  <script src="admin.js"></script>
</body>
</html>
